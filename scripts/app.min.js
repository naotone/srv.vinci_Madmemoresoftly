function onYouTubePlayerAPIReady(){yt_player=new YT.Player("youtube_player",{events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}})}function onPlayerReady(){$("youtubeBg").onclick=function(){yt_player.pauseVideo(),removeClass($("youtubeBg"),"on")}}function onPlayerStateChange(e){1==e.data||(requestID=requestAnimationFrame(animate),removeClass($("youtubeBg"),"on"),addClass($("youtubeBg"),"off")),myPlayerState=e.data}function init(){HEIGHT=window.innerHeight,WIDTH=window.innerWidth,windowHalfX=WIDTH/2,windowHalfY=HEIGHT/2,renderer=new THREE.WebGLRenderer({antialias:!0}),renderer.setSize(window.innerWidth,window.innerHeight),renderer.setClearColor(0,1),$("world").appendChild(renderer.domElement),scene=new THREE.Scene,uniforms={time:{type:"f",value:.1},tex:{type:"t",value:THREE.ImageUtils.loadTexture("images/jacket.jpg")},WIDTH:{type:"f",value:WIDTH},HEIGHT:{type:"f",value:HEIGHT},mouseX:{type:"f",value:mouseX},mouseY:{type:"f",value:mouseY}},createStats(),createCamera(),createJacket(),createGlitch(),animate()}function createCamera(){camera=new THREE.PerspectiveCamera(45,1,.1,1e4),camera.position.z=1e3,scene.add(camera)}function createJacket(){material=new THREE.ShaderMaterial({vertexShader:document.getElementById("vshader").textContent,fragmentShader:document.getElementById("fshader").textContent,uniforms:uniforms,blending:THREE.AdditiveBlending,transparent:!0,depthTest:!1}),tobject=new THREE.Mesh(new THREE.PlaneGeometry(1e3,1e3,1,1),material),scene.add(tobject)}function createGlitch(){var e=new THREE.RenderPass(scene,camera),t=new THREE.GlitchPass(8);t.renderToScreen=!0,composer=new THREE.EffectComposer(renderer),composer.setSize(WIDTH,HEIGHT),composer.addPass(e),composer.addPass(t)}function createStats(){stats=new Stats,stats.domElement.style.position="absolute",stats.domElement.style.top="0",stats.domElement.style.right="0",$("world").appendChild(stats.domElement)}function animate(){requestID=requestAnimationFrame(animate),(1==myPlayerState||3==myPlayerState)&&(cancelAnimationFrame(requestID),removeClass($("youtubeBg"),"off"),addClass($("youtubeBg"),"on")),material.uniforms.time.value=clock.elapsedTime,delta=clock.getDelta(),render(),stats.update()}function render(){composer.render(clock.elapsedTime)}function onDocumentMouseMove(e){material.uniforms.mouseX.value=.15*(e.clientX-windowHalfX),material.uniforms.mouseY.value=.15*(e.clientY-windowHalfY)}function onWindowResize(){WIDTH=window.innerWidth,HEIGHT=window.innerHeight,windowHalfX=window.innerWidth/2,windowHalfY=window.innerHeight/2,renderer.setSize(window.innerWidth,window.innerHeight),composer.setSize(window.innerWidth,window.innerHeight),material.uniforms.WIDTH.value=WIDTH,material.uniforms.HEIGHT.value=HEIGHT,scene.remove(tobject),createJacket()}function addClass(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function removeClass(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function $(e){return document.getElementById(e)}function map_range(e,t,a,n,r){return n+(r-n)*(e-t)/(a-t)}var scene,camera,shadowLight,light,backLight,renderer,container,HEIGHT,WIDTH,windowHalfX,windowHalfY,FOV,aspectRatio,nearPlane,farPlane,mesh,stats,composer,delta,uniforms,mouseX=0,mouseY=0,baseTime=+new Date,clock=new THREE.Clock;window.addEventListener("resize",onWindowResize,!1),init();var tag=document.createElement("script");tag.src="http://www.youtube.com/player_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);var yt_player,myPlayerState;
//# sourceMappingURL=app.min.js.map