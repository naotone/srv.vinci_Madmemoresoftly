{"version":3,"sources":["app.js"],"names":["onYouTubePlayerAPIReady","yt_player","YT","Player","events","onReady","onPlayerReady","onStateChange","onPlayerStateChange","document","getElementById","onclick","playVideo","pauseVideo","event","data","requestID","requestAnimationFrame","animate","console","log","myPlayerState","init","HEIGHT","window","innerHeight","WIDTH","innerWidth","windowHalfX","windowHalfY","renderer","THREE","WebGLRenderer","antialias","setSize","Math","min","$","style","left","width","setClearColor","appendChild","domElement","scene","Scene","uniforms","time","type","value","tex","ImageUtils","loadTexture","mouseX","mouseY","createStats","createCamera","createJacket","createGlitch","camera","PerspectiveCamera","position","z","add","material","ShaderMaterial","vertexShader","textContent","fragmentShader","blending","AdditiveBlending","transparent","depthTest","tobject","Mesh","PlaneGeometry","renderPass","RenderPass","effectGlitch","GlitchPass","renderToScreen","composer","EffectComposer","addPass","stats","Stats","top","right","cancelAnimationFrame","playing","clock","elapsedTime","delta","getDelta","render","update","onDocumentMouseMove","clientX","clientY","onWindowResize","remove","id","map_range","low1","high1","low2","high2","shadowLight","light","backLight","container","FOV","aspectRatio","nearPlane","farPlane","mesh","baseTime","Date","Clock","addEventListener","tag","createElement","src","firstScriptTag","getElementsByTagName","parentNode","insertBefore"],"mappings":"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","file":"app.min.js","sourcesContent":["var scene, camera, shadowLight, light, backLight, renderer;\nvar container,\n    HEIGHT,\n    WIDTH,\n    windowHalfX,\n    windowHalfY,\n    FOV,\n    aspectRatio,\n    nearPlane,\n    farPlane,\n    mesh,\n    stats,\n    composer,\n    delta,\n    uniforms;\nvar mouseX = 0, mouseY = 0;\nvar baseTime = +new Date;\nvar clock = new THREE.Clock();\n\nwindow.addEventListener('resize', onWindowResize, false);\n// document.addEventListener( 'mousemove', onDocumentMouseMove, false );\n\ninit();\n\nvar tag = document.createElement('script');\ntag.src = 'http://www.youtube.com/player_api';\nvar firstScriptTag = document.getElementsByTagName('script')[0];\nfirstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n\nvar yt_player;\nfunction onYouTubePlayerAPIReady() {\n  yt_player = new YT.Player('youtube_player', {\n    events: {\n      'onReady': onPlayerReady,\n      'onStateChange': onPlayerStateChange\n\n    }\n  });\n}\n\nfunction onPlayerReady() {\n  // var timer = setInterval(onPlayerStateChange, 10000)\n  document.getElementById('desc').onclick = function() {\n      yt_player.playVideo();\n  };\n  document.getElementById('pause').onclick = function() {\n      yt_player.pauseVideo();\n  };\n\n}\n\nvar myPlayerState;\nvar playing = false;\nfunction onPlayerStateChange(event) {\n  if (event.data == 1) {\n  }else{\n    requestID = requestAnimationFrame(animate);\n    console.log(myPlayerState);\n  }\n  myPlayerState = event.data;\n}\n\n\n\n\nfunction init(){\n  HEIGHT = window.innerHeight;\n  WIDTH = window.innerWidth;\n  windowHalfX = WIDTH / 2;\n  windowHalfY = HEIGHT / 2;\n\n  renderer = new THREE.WebGLRenderer({ antialias:true });\n  renderer.setSize(Math.min(WIDTH, 650), window.innerHeight);\n  $('world').style.left = (WIDTH - Math.min(WIDTH, 650)) * 0.5 +'px';\n  $('world').style.width = Math.min(WIDTH, 650) + 'px';\n\n  renderer.setClearColor(0x000000, 1);\n  $('world').appendChild(renderer.domElement);\n\n  scene = new THREE.Scene();\n\n  uniforms = {\n    time: { type: 'f', value: 0.1 },\n    tex:  { type: 't', value: THREE.ImageUtils.loadTexture( 'images/jacket.jpg') },\n    WIDTH: {type: 'f', value: WIDTH},\n    HEIGHT: {type: 'f', value: HEIGHT},\n    mouseX: {type: 'f', value: mouseX},\n    mouseY: {type: 'f', value: mouseY}\n  };\n  createStats();\n\n  createCamera();\n  createJacket();\n  createGlitch();\n  animate();\n\n}\n\nfunction createCamera(){\n  camera = new THREE.PerspectiveCamera(45, 1000 / 1000, 0.1,10000);\n  camera.position.z = 1000;\n  scene.add(camera);\n}\n\n\nfunction createJacket(){\n  material = new THREE.ShaderMaterial({\n    vertexShader: document.getElementById('vshader').textContent,\n    fragmentShader: document.getElementById('fshader').textContent,\n    uniforms: uniforms,\n    blending: THREE.AdditiveBlending, transparent: true, depthTest: false\n  });\n  tobject = new THREE.Mesh( new THREE.PlaneGeometry(1000, 1000 ,1,1), material);\n  scene.add(tobject);\n\n}\n\nfunction createGlitch(){\n  var renderPass = new THREE.RenderPass(scene, camera);\n  var effectGlitch = new THREE.GlitchPass(8);\n  effectGlitch.renderToScreen = true;\n\n  composer = new THREE.EffectComposer(renderer);\n  composer.setSize(WIDTH, HEIGHT);\n  composer.addPass(renderPass);\n  composer.addPass(effectGlitch);\n}\n\nfunction createStats(){\n  stats = new Stats();\n  stats.domElement.style.position = 'absolute';\n  stats.domElement.style.top = '0';\n  stats.domElement.style.right = '0';\n  $('world').appendChild(stats.domElement);\n}\n\nfunction animate(){\n\n  requestID = requestAnimationFrame(animate);\n  if(myPlayerState == 1 || myPlayerState == 3){\n    console.log('pauseeee');\n    cancelAnimationFrame(requestID);\n    playing = true;\n  }\n\n  material.uniforms.time.value = clock.elapsedTime;\n  delta = clock.getDelta();\n  render();\n  stats.update();\n}\n\nfunction render(){\n  // renderer.render(scene, camera);\n  composer.render(clock.elapsedTime);\n}\n\nfunction onDocumentMouseMove(event) {\n  material.uniforms.mouseX.value = ( event.clientX - windowHalfX ) * 0.15;\n  material.uniforms.mouseY.value = ( event.clientY - windowHalfY ) * 0.15;\n  // console.log('x:'+material.uniforms.mouseX.value + 'y:'+ material.uniforms.mouseY.value);\n}\n\nfunction onWindowResize(){\n  WIDTH = window.innerWidth;\n  HEIGHT = window.innerHeight;\n  windowHalfX = window.innerWidth / 2;\n  windowHalfY = window.innerHeight / 2;\n  // camera.aspect = window.innerWidth / window.innerHeight;\n  // camera.updateProjectionMatrix();\n  renderer.setSize(Math.min(WIDTH, 650), window.innerHeight);\n  // composer.setSize(window.innerWidth, window.innerHeight);\n  material.uniforms.WIDTH.value = WIDTH;\n  material.uniforms.HEIGHT.value = HEIGHT;\n  scene.remove(tobject);\n  createJacket();\n  $('world').style.left = (WIDTH - Math.min(WIDTH, 650)) * 0.5 +'px';\n  $('world').style.width = Math.min(WIDTH, 650) + 'px';\n}\n\n\nfunction $( id ) {\n  return document.getElementById( id );\n}\n\nfunction map_range(value, low1, high1, low2, high2) {\n    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}\n"],"sourceRoot":"/source/"}