function init(){HEIGHT=window.innerHeight,WIDTH=window.innerWidth,windowHalfX=WIDTH/2,windowHalfY=HEIGHT/2,renderer=new THREE.WebGLRenderer({antialias:!0}),renderer.setSize(WIDTH,HEIGHT),renderer.setClearColor(0,1),document.body.appendChild(renderer.domElement),scene=new THREE.Scene,uniforms={time:{type:"f",value:.1},tex:{type:"t",value:THREE.ImageUtils.loadTexture("../assets/myFiles/jacket.jpg")},WIDTH:{type:"f",value:WIDTH},HEIGHT:{type:"f",value:HEIGHT},mouseX:{type:"f",value:mouseX},mouseY:{type:"f",value:mouseY}},createCamera(),createJacket(),createGlitch(),animate()}function createCamera(){camera=new THREE.PerspectiveCamera(45,1,.1,1e4),camera.position.z=1e3,scene.add(camera)}function createJacket(){material=new THREE.ShaderMaterial({vertexShader:document.getElementById("vshader").textContent,fragmentShader:document.getElementById("fshader").textContent,uniforms:uniforms,blending:THREE.AdditiveBlending,transparent:!0,depthTest:!1}),tobject=new THREE.Mesh(new THREE.PlaneGeometry(1e3,1e3,1,1),material),scene.add(tobject)}function createGlitch(){var e=new THREE.RenderPass(scene,camera),n=new THREE.GlitchPass(1200);n.renderToScreen=!0,composer=new THREE.EffectComposer(renderer),composer.setSize(WIDTH,HEIGHT),composer.addPass(e),composer.addPass(n)}function animate(){requestAnimationFrame(animate),material.uniforms.time.value=(+new Date-baseTime)/1e3,delta=clock.getDelta(),render()}function render(){composer.render(delta)}function onDocumentMouseMove(e){material.uniforms.mouseX.value=.15*(e.clientX-windowHalfX),material.uniforms.mouseY.value=.15*(e.clientY-windowHalfY)}function onWindowResize(){WIDTH=window.innerWidth,HEIGHT=window.innerHeight,windowHalfX=window.innerWidth/2,windowHalfY=window.innerHeight/2,renderer.setSize(window.innerWidth,window.innerHeight),composer.setSize(window.innerWidth,window.innerHeight),material.uniforms.WIDTH.value=WIDTH,material.uniforms.HEIGHT.value=HEIGHT,scene.remove(tobject),createJacket()}function map_range(e,n,t,a,r){return a+(r-a)*(e-n)/(t-n)}var scene,camera,shadowLight,light,backLight,renderer,container,HEIGHT,WIDTH,windowHalfX,windowHalfY,FOV,aspectRatio,nearPlane,farPlane,mesh,stats,composer,delta,uniforms,mouseX=0,mouseY=0,baseTime=+new Date,clock=new THREE.Clock;window.addEventListener("resize",onWindowResize,!1),document.addEventListener("mousemove",onDocumentMouseMove,!1),init(),render();
//# sourceMappingURL=app.js.map