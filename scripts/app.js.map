{"version":3,"sources":["app.js"],"names":["init","HEIGHT","window","innerHeight","WIDTH","innerWidth","windowHalfX","windowHalfY","renderer","THREE","WebGLRenderer","antialias","setSize","setClearColor","document","body","appendChild","domElement","scene","Scene","uniforms","time","type","value","tex","ImageUtils","loadTexture","mouseX","mouseY","createCamera","createJacket","createGlitch","animate","camera","PerspectiveCamera","position","z","add","material","ShaderMaterial","vertexShader","getElementById","textContent","fragmentShader","blending","AdditiveBlending","transparent","depthTest","tobject","Mesh","PlaneGeometry","renderPass","RenderPass","effectGlitch","GlitchPass","renderToScreen","composer","EffectComposer","addPass","requestAnimationFrame","Date","baseTime","delta","clock","getDelta","render","onDocumentMouseMove","event","clientX","clientY","onWindowResize","remove","map_range","low1","high1","low2","high2","shadowLight","light","backLight","container","FOV","aspectRatio","nearPlane","farPlane","mesh","stats","Clock","addEventListener"],"mappings":"AAwBA,QAASA,QACPC,OAASC,OAAOC,YAChBC,MAAQF,OAAOG,WACfC,YAAcF,MAAQ,EACtBG,YAAcN,OAAS,EAEvBO,SAAW,GAAIC,OAAMC,eAAgBC,WAAU,IAC/CH,SAASI,QAAQR,MAAOH,QACxBO,SAASK,cAAc,EAAU,GACjCC,SAASC,KAAKC,YAAYR,SAASS,YAEnCC,MAAQ,GAAIT,OAAMU,MAElBC,UACEC,MAAQC,KAAM,IAAKC,MAAO,IAC1BC,KAAQF,KAAM,IAAKC,MAAOd,MAAMgB,WAAWC,YAAa,iCACxDtB,OAAQkB,KAAM,IAAKC,MAAOnB,OAC1BH,QAASqB,KAAM,IAAKC,MAAOtB,QAC3B0B,QAASL,KAAM,IAAKC,MAAOI,QAC3BC,QAASN,KAAM,IAAKC,MAAOK,SAG7BC,eACAC,eACAC,eACAC,UAGF,QAASH,gBACPI,OAAS,GAAIxB,OAAMyB,kBAAkB,GAAI,EAAa,GAAI,KAC1DD,OAAOE,SAASC,EAAI,IACpBlB,MAAMmB,IAAIJ,QAKZ,QAASH,gBACPQ,SAAW,GAAI7B,OAAM8B,gBACnBC,aAAc1B,SAAS2B,eAAe,WAAWC,YACjDC,eAAgB7B,SAAS2B,eAAe,WAAWC,YACnDtB,SAAUA,SACVwB,SAAUnC,MAAMoC,iBAAkBC,aAAa,EAAMC,WAAW,IAElEC,QAAU,GAAIvC,OAAMwC,KAAM,GAAIxC,OAAMyC,cAAc,IAAM,IAAM,EAAE,GAAIZ,UACpEpB,MAAMmB,IAAIW,SAIZ,QAASjB,gBACP,GAAIoB,GAAa,GAAI1C,OAAM2C,WAAWlC,MAAOe,QACzCoB,EAAe,GAAI5C,OAAM6C,WAAW,KACxCD,GAAaE,gBAAiB,EAE9BC,SAAW,GAAI/C,OAAMgD,eAAejD,UACpCgD,SAAS5C,QAAQR,MAAOH,QACxBuD,SAASE,QAAQP,GACjBK,SAASE,QAAQL,GAGnB,QAASrB,WACP2B,sBAAsB3B,SACtBM,SAASlB,SAASC,KAAKE,QAAU,GAAIqC,MAAOC,UAAY,IACxDC,MAAQC,MAAMC,WACdC,SAGF,QAASA,UAEPT,SAASS,OAAOH,OAGlB,QAASI,qBAAoBC,GAC3B7B,SAASlB,SAASO,OAAOJ,MAA0C,KAAhC4C,EAAMC,QAAU9D,aACnDgC,SAASlB,SAASQ,OAAOL,MAA0C,KAAhC4C,EAAME,QAAU9D,aAIrD,QAAS+D,kBACPlE,MAAQF,OAAOG,WACfJ,OAASC,OAAOC,YAChBG,YAAcJ,OAAOG,WAAa,EAClCE,YAAcL,OAAOC,YAAc,EAGnCK,SAASI,QAAQV,OAAOG,WAAYH,OAAOC,aAC3CqD,SAAS5C,QAAQV,OAAOG,WAAYH,OAAOC,aAC3CmC,SAASlB,SAAShB,MAAMmB,MAAQnB,MAChCkC,SAASlB,SAASnB,OAAOsB,MAAQtB,OACjCiB,MAAMqD,OAAOvB,SACblB,eAGF,QAAS0C,WAAUjD,EAAOkD,EAAMC,EAAOC,EAAMC,GACzC,MAAOD,IAAQC,EAAQD,IAASpD,EAAQkD,IAASC,EAAQD,GArH7D,GAAIvD,OAAOe,OAAQ4C,YAAaC,MAAOC,UAAWvE,SAC9CwE,UACA/E,OACAG,MACAE,YACAC,YACA0E,IACAC,YACAC,UACAC,SACAC,KACAC,MACA9B,SACAM,MACA1C,SACAO,OAAS,EAAGC,OAAS,EACrBiC,UAAY,GAAID,MAChBG,MAAQ,GAAItD,OAAM8E,KAEtBrF,QAAOsF,iBAAiB,SAAUlB,gBAAgB,GAClDxD,SAAS0E,iBAAkB,YAAatB,qBAAqB,GAE7DlE,OAiGAiE","file":"app.js","sourcesContent":["var scene, camera, shadowLight, light, backLight, renderer;\nvar container,\n    HEIGHT,\n    WIDTH,\n    windowHalfX,\n    windowHalfY,\n    FOV,\n    aspectRatio,\n    nearPlane,\n    farPlane,\n    mesh,\n    stats,\n    composer,\n    delta,\n    uniforms;\nvar mouseX = 0, mouseY = 0;\nvar baseTime = +new Date;\nvar clock = new THREE.Clock();\n\nwindow.addEventListener('resize', onWindowResize, false);\ndocument.addEventListener( 'mousemove', onDocumentMouseMove, false );\n\ninit();\n\nfunction init(){\n  HEIGHT = window.innerHeight;\n  WIDTH = window.innerWidth;\n  windowHalfX = WIDTH / 2;\n  windowHalfY = HEIGHT / 2;\n\n  renderer = new THREE.WebGLRenderer({ antialias:true });\n  renderer.setSize(WIDTH, HEIGHT);\n  renderer.setClearColor(0x000000, 1);\n  document.body.appendChild(renderer.domElement);\n\n  scene = new THREE.Scene();\n\n  uniforms = {\n    time: { type: 'f', value: 0.1 },\n    tex:  { type: 't', value: THREE.ImageUtils.loadTexture( '../assets/myFiles/jacket.jpg') },\n    WIDTH: {type: 'f', value: WIDTH},\n    HEIGHT: {type: 'f', value: HEIGHT},\n    mouseX: {type: 'f', value: mouseX},\n    mouseY: {type: 'f', value: mouseY}\n  };\n\n  createCamera();\n  createJacket();\n  createGlitch();\n  animate();\n}\n\nfunction createCamera(){\n  camera = new THREE.PerspectiveCamera(45, 1000 / 1000, 0.1,10000);\n  camera.position.z = 1000;\n  scene.add(camera);\n}\n\n\n\nfunction createJacket(){\n  material = new THREE.ShaderMaterial({\n    vertexShader: document.getElementById('vshader').textContent,\n    fragmentShader: document.getElementById('fshader').textContent,\n    uniforms: uniforms,\n    blending: THREE.AdditiveBlending, transparent: true, depthTest: false\n  });\n  tobject = new THREE.Mesh( new THREE.PlaneGeometry(1000, 1000 ,1,1), material);\n  scene.add(tobject);\n\n}\n\nfunction createGlitch(){\n  var renderPass = new THREE.RenderPass(scene, camera);\n  var effectGlitch = new THREE.GlitchPass(1200);\n  effectGlitch.renderToScreen = true;\n\n  composer = new THREE.EffectComposer(renderer);\n  composer.setSize(WIDTH, HEIGHT);\n  composer.addPass(renderPass);\n  composer.addPass(effectGlitch);\n}\n\nfunction animate(){\n  requestAnimationFrame(animate);\n  material.uniforms.time.value = (+new Date - baseTime) / 1000;\n  delta = clock.getDelta();\n  render();\n}\n\nfunction render(){\n  // renderer.render(scene, camera);\n  composer.render(delta);\n}\n\nfunction onDocumentMouseMove(event) {\n  material.uniforms.mouseX.value = ( event.clientX - windowHalfX ) * 0.15;\n  material.uniforms.mouseY.value = ( event.clientY - windowHalfY ) * 0.15;\n  // console.log('x:'+material.uniforms.mouseX.value + 'y:'+ material.uniforms.mouseY.value);\n}\n\nfunction onWindowResize(){\n  WIDTH = window.innerWidth;\n  HEIGHT = window.innerHeight;\n  windowHalfX = window.innerWidth / 2;\n  windowHalfY = window.innerHeight / 2;\n  // camera.aspect = window.innerWidth / window.innerHeight;\n  // camera.updateProjectionMatrix();\n  renderer.setSize(window.innerWidth, window.innerHeight);\n  composer.setSize(window.innerWidth, window.innerHeight);\n  material.uniforms.WIDTH.value = WIDTH;\n  material.uniforms.HEIGHT.value = HEIGHT;\n  scene.remove(tobject);\n  createJacket();\n}\n\nfunction map_range(value, low1, high1, low2, high2) {\n    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}\nrender();\n"],"sourceRoot":"/source/"}